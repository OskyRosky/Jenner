---
title: "Tesis sobre las mezclas asf√°lticas."
author: "Jenner Picado"
output:
  html_document:
    toc: true
    toc_depth: 3
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  message = FALSE,
  warning = FALSE
)

library(tidyverse)
library(readxl)
library(janitor)
library(skimr)
library(lme4)
library(lmerTest)
library(emmeans)
library(performance)
library(car)
library(knitr)
library(kableExtra)

# Objetivo 1: hoja "dataob1"
# Salta la fila 1 (t√≠tulos de bloque) y usa la fila 2 como encabezado
datos_obj1_raw <- read_excel(
  "data.xlsx",
  sheet     = "dataob1",
  skip      = 1,   # üëà ahora la fila con "Mezcla N¬∞  Bloque N¬∞  Gbs-Gmm  ..." ser√° el header
  col_names = TRUE
) |>
  clean_names()

# Objetivo 2: hoja "dataob2"
datos_obj2_raw <- read_excel(
  "data.xlsx",
  sheet     = "dataob2",
  skip      = 1,   # üëà usa la fila con "Mezcla N¬∞, Bloque N¬∞, Gbs-Gmm, ..., PDF-..., PVM-..." como header
  col_names = TRUE
) |>
  clean_names()

```

<style>
table {
background-color:#FFFFFF;
}
</style>

<style>
.list-group-item.active, .list-group-item.active:focus, .list-group-item.active:hover {
    background-color: darkblue;
}
</style>

<button onclick="document.body.scrollTop = document.documentElement.scrollTop = 0;" style="
    position: fixed;
    bottom: 5px;
    right: 40px;
    text-align: center;
    cursor: pointer;
    outline: none;
    color: #fff;
    background-color: #0A71A0;
    border: none;
    border-radius: 15px;
    
">Ir arriba</button>


# {.tabset .tabset-fade .tabset-pills}


**Tesis final de graduaci√≥n.**

## 1. Intro.  {.tabset .tabset-fade .tabset-pills}

Las mezclas asf√°lticas utilizadas en pavimentos deben cumplir simult√°neamente dos condiciones fundamentales: poseer un contenido adecuado de vac√≠os de aire y desarrollar una resistencia suficiente a la fatiga frente a cargas repetidas. Un porcentaje de vac√≠os demasiado bajo favorece el ahuellamiento y la p√©rdida de estabilidad; un porcentaje demasiado alto acelera la penetraci√≥n de agua y aire, y por tanto el deterioro de la mezcla. De forma complementaria, la respuesta a fatiga condiciona la vida √∫til del pavimento ante miles o millones de aplicaciones de carga.

En este trabajo se estudian mezclas compactadas con el Compactador de Cortante ASC bajo la norma ASTM D7981, a partir de las cuales se obtienen bloques prism√°ticos que luego se cortan para producir vigas de ensayo. Tanto los bloques como las vigas se someten a la prueba de gravedad aparente del agregado grueso (Gbs), a partir de la cual se calcula la gravedad espec√≠fica de la mezcla (Gmb) y finalmente el porcentaje de vac√≠os de aire (% vac√≠os). Posteriormente, las vigas se ensayan en flexo-tracci√≥n din√°mica seg√∫n AASHTO T321, obteniendo el n√∫mero de ciclos a falla para diferentes niveles de deformaci√≥n y tama√±os m√°ximos nominales (TMN).

El an√°lisis estad√≠stico se organiza en dos objetivos complementarios:
	‚Ä¢	Objetivo 1. Analizar la distribuci√≥n de los % de vac√≠os de aire en los bloques prism√°ticos compactados y en las vigas obtenidas del ASC, identificando qu√© parte de la variabilidad se asocia al dise√±o de mezcla, al proceso de compactaci√≥n del bloque y al corte/operario de las vigas. Para ello se plantear√° un ANOVA jer√°rquico / modelo mixto, y posteriormente se ajustar√° un modelo de regresi√≥n que relacione los % de vac√≠os con las propiedades volum√©tricas de la mezcla, buscando una primera ecuaci√≥n que describa su comportamiento.
	‚Ä¢	Objetivo 2. Identificar las propiedades m√°s significativas de la mezcla asf√°ltica que inciden en los ciclos de fatiga obtenidos mediante el ensayo de flexo-tracci√≥n din√°mica AASHTO T321, considerando los niveles de deformaci√≥n de 400 y 600 microdeformaciones y los TMN de 12,5 mm y 19 mm. Se ajustar√°n modelos de regresi√≥n para cuatro casos (combinaciones TMN‚Äìdeformaci√≥n) con el fin de obtener una primera versi√≥n de un modelo predictivo de ciclos de fatiga en funci√≥n de las propiedades volum√©tricas, incluyendo el an√°lisis de rigidez inicial, rigidez final y n√∫mero de ciclos a falla.

Con este enfoque, el trabajo no solo cuantifica la variabilidad de los vac√≠os de aire en las distintas etapas del proceso (mezcla‚Äìbloque‚Äìviga), sino que tambi√©n propone ecuaciones iniciales para relacionar las propiedades volum√©tricas con el desempe√±o mec√°nico a fatiga, aportando criterios objetivos para el dise√±o y control de mezclas asf√°lticas.

## 2. Datos.  {.tabset .tabset-fade .tabset-pills}

### Ingesta de datos.

La base de datos utilizada en este estudio proviene de un archivo √∫nico en formato Excel (data.xlsx) que contiene dos hojas de trabajo:

	‚Ä¢	dataob1: informaci√≥n correspondiente al Objetivo 1, donde se registran los resultados de la prueba de Gbs, el c√°lculo de % de vac√≠os y las propiedades volum√©tricas de cada mezcla.
	
	‚Ä¢	dataob2: informaci√≥n del Objetivo 2, que incluye los resultados del ensayo de fatiga AASHTO T321, adem√°s de las mismas propiedades volum√©tricas utilizadas para el an√°lisis.

En ambas hojas, la primera fila contiene encabezados generales (por ejemplo: PRUEBA DE Gbs Y %Vac√≠os, PROPIEDADES VOLUM√âTRICAS MAC). Por esta raz√≥n, la ingesta se realiza omitiendo esa fila inicial para que R utilice como encabezado la segunda fila, donde se encuentran los nombres reales de las variables.

Los nombres de columnas se estandarizan mediante clean_names() para facilitar la manipulaci√≥n posterior en el an√°lisis estad√≠stico.


### Datos de origen.

A continuaci√≥n, se muestran las primeras filas de cada dataset tal como fueron importadas a R despu√©s del proceso de limpieza de nombres. Estos datos representan:

Para Objetivo 1:

	‚Ä¢	Identificaci√≥n de mezcla (mezcla_n)
	‚Ä¢	Identificaci√≥n del bloque (bloque_n)
	‚Ä¢	Variables de la prueba de Gbs (prefijo Gbs-)
	‚Ä¢	C√°lculo del % de vac√≠os
	‚Ä¢	Propiedades volum√©tricas de la mezcla (prefijo PVM-)
	
Para Objetivo 2:
	
‚Ä¢	Mismas variables de Gbs y % de vac√≠os
‚Ä¢	Resultados del ensayo de fatiga (prefijo PDF-)
‚Ä¢	Propiedades volum√©tricas (prefijo PVM-)

Estos datos constituyen la base para el an√°lisis descriptivo, el ANOVA jer√°rquico del Objetivo 1 y los modelos de regresi√≥n para ambos objetivos.


```{r}
head(datos_obj1_raw, 10) |> kable() |> kable_styling(full_width = FALSE)

```

```{r}
head(datos_obj2_raw, 10) |> kable() |> kable_styling(full_width = FALSE)
```


### Listado de variables por objetivo.

A continuaci√≥n se presentan todas las variables disponibles en cada conjunto de datos, de acuerdo con su organizaci√≥n y finalidad dentro de la tesis. Esta revisi√≥n facilita comprender qu√© informaci√≥n se analiza en cada objetivo y permite verificar la consistencia de nombres antes de aplicar los modelos estad√≠sticos.

Objetivo 1 ‚Äì Variables disponibles

Incluye:

‚Ä¢	Identificaci√≥n de mezcla y bloque.
‚Ä¢	Variables derivadas de la prueba de Gbs (prefijo gbs_).
‚Ä¢	Porcentaje de vac√≠os.
‚Ä¢	Propiedades volum√©tricas de la mezcla (prefijo pvm_).


```{r}
names(datos_obj1_raw) |> 
  as.data.frame() |> 
  kable(col.names = "Variables ‚Äì Objetivo 1") |> 
  kable_styling(full_width = FALSE)
```

Objetivo 2 ‚Äì Variables disponibles

Incluye:

‚Ä¢	Identificaci√≥n de mezcla y bloque.
‚Ä¢	Variables de la prueba de Gbs.
‚Ä¢	Variables del ensayo de fatiga (prefijo pdf_).
‚Ä¢	Propiedades volum√©tricas de la mezcla (prefijo pvm_).


```{r}
names(datos_obj2_raw) |> 
  as.data.frame() |> 
  kable(col.names = "Variables ‚Äì Objetivo 2") |> 
  kable_styling(full_width = FALSE)
```


### Calidad de los datos.

Antes de proceder con los an√°lisis estad√≠sticos, se verific√≥ la consistencia y validez general de las bases de datos.  
Dado que los valores provienen directamente del proceso experimental, no se aplic√≥ limpieza activa ni modificaci√≥n de observaciones.  
√önicamente se evaluaron tres aspectos fundamentales:

1. **Valores faltantes (NA).**  
   Se revis√≥ la presencia de datos ausentes en las variables utilizadas en los modelos.  
   El an√°lisis mostr√≥ que no existen valores faltantes en las variables relevantes para los Objetivos 1 y 2.

2. **Consistencia del dise√±o jer√°rquico.**  
   Se confirm√≥ la estructura esperada del experimento:  
   - cada mezcla cuenta con exactamente dos bloques (A y B),  
   - cada bloque contiene cinco vigas,  
   - totalizando 240 observaciones completas.  
   Esta verificaci√≥n garantiza que el dise√±o est√° balanceado, condici√≥n favorable para el ANOVA jer√°rquico.

3. **Revisi√≥n de rangos f√≠sicos.**  
   Se evalu√≥ que los valores de % de vac√≠os, Gmm, Gmb, TMN y gradaciones se encuentran dentro de rangos f√≠sicamente plausibles.  
   No se detectaron valores imposibles ni inconsistencias experimentales.

Con estas revisiones, se concluye que las bases de datos poseen calidad suficiente para continuar con las etapas de an√°lisis descriptivo y modelado estad√≠stico.

#### 1. Revisi√≥n de valores faltantes (NA).

```{r}
colSums(is.na(datos_obj1_raw))
colSums(is.na(datos_obj2_raw))
```

#### 2. Consistencia del dise√±o jer√°rquico: Mezcla ‚Üí Bloque ‚Üí Viga

```{r}
datos_obj1_raw |>
  count(mezcla_n, bloque_n) |>
  count(n)
```

```{r}
datos_obj1_raw |>
  count(mezcla_n) |> 
  count(n)
```

#### 3. Rangos f√≠sicos de las variables principales


```{r}
summary(datos_obj1_raw$gbs_percent_vacios_7_1)
summary(datos_obj1_raw$gbs_gmm)
summary(datos_obj1_raw$gbs_gmb)
table(datos_obj1_raw$gbs_tmn_mm)
```


### Estad√≠sticas descsriptivas. 


#### Objetivo 1


#### Objtivo 2



## 3.  Objetivo 1. {.tabset .tabset-fade .tabset-pills}


###

```{r}

```

```{r}

```


### 

```{r}

```

```{r}

```


## 4. Objetivo 2.  {.tabset .tabset-fade .tabset-pills}

###


```{r}

```

```{r}

```

###

```{r}

```

```{r}

```


## 5. Conclusiones.  {.tabset .tabset-fade .tabset-pills}


## REF {.tabset .tabset-fade .tabset-pills}


